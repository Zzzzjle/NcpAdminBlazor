@page "/application/email/{folder?}"

<MudHidden Breakpoint="Breakpoint.SmAndDown">
    <MudText Typo="Typo.h5" Color="Color.Primary" Class="mb-4">Email Application</MudText>
</MudHidden>
<MudHidden Breakpoint="Breakpoint.MdAndUp">
    <MudPaper  Class="d-flex align-center py-1 mb-4">
        <MudIconButton OnClick="@(() => OpenDrawer())" Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit" Class="ml-3 mr-2" />
        <MudText Typo="Typo.h6" Color="Color.Primary">Email Application</MudText>
    </MudPaper>
</MudHidden>
<div class="d-flex flex-grow-1 flex-row">
    <MudHidden Breakpoint="Breakpoint.SmAndDown">
        <MudPaper  Class="px-3 py-6 mr-6" MinWidth="250px">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" Class="my-2" FullWidth="true">Compose</MudButton>
            <EmailNavList Folder="@Folder" />
        </MudPaper>
    </MudHidden>
    <MudPaper  Class="py-4 flex-grow-1">
        <MudToolBar Dense="true" Gutters="false">
            <MudCheckBox T="bool" Label="Select All" Class="ml-2" />
            <MudSpacer />
            <MudIconButton Icon="@Icons.Material.Outlined.NavigateBefore" Class="mx-2" />
            <MudIconButton Icon="@Icons.Material.Outlined.NavigateNext" Class="mr-4" />
        </MudToolBar>
        @if (Folder == "inbox")
        {
            <Inbox />
        }
        else
        {
            <MudText Align="Align.Center" Class="mt-16">No Emails :(</MudText>
        }
    </MudPaper>
</div>
<MudDrawer @bind-Open="@_open" Anchor="@Anchor.Left" Elevation="1" Variant="@DrawerVariant.Temporary">
    <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" Class="mx-4 mt-6 mb-4">Compose</MudButton>
    <EmailNavList Folder="@Folder" />
</MudDrawer>


@code
{
    bool _open;

    [Parameter] public string Folder { get; set; } = string.Empty;

    protected override void OnInitialized()
    {
        if (String.IsNullOrEmpty(Folder))
        {
            Folder = "inbox";
        }
    }

    void OpenDrawer()
    {
        _open = true;
    }
}